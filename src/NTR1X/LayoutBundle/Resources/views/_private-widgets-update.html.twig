{% extends 'NTR1XLayoutBundle:private-widgets-list.html.twig' %}

{% block left %}

	{{ parent() }}

	<section class="private-nav">
		<h4>Редактирование</h4>
		<ul class="nav nav-pills nav-stacked">
			<li class="{{ app.request.attributes.get('_route') starts with 'admin-layout-widgets-update' ? 'active' : '' }}"><a href="{{ path('admin-layout-widgets-update', {
				id: widget.id,
			}) }}">Основное</a></li>
			<li class="{{ app.request.attributes.get('_route') starts with 'admin-layout-widgets-settings' ? 'active' : '' }}"><a href="{{ path('admin-layout-widgets-settings', {
				id: widget.id,
			}) }}">Настройки <span class="badge">{{ widget.settings|length }}</span></a></li>
		</ul>
	</section>
	
{% endblock %}

{% block editor %}

	<form enctype="multipart/form-data" id="form-update" method="POST"
		action="{{ path('admin-layout-widgets-do-update') }}"
	>
		<div class="container-fluid">
			<div class="row">
				<div class="col-xs-12">
					<h1>Редактирование виджета</h1>
				</div>
				<div class="col-xs-12 col-md-6">
					<input type="hidden" name="id" value="{{ form.inputData['$.request.id'] }}" />
					<div class="form-group">
						<label for="form-update-name">Имя</label>
						<input class="form-control" type="text" id="form-update-name" name="name" required="true" value="{{ form.inputData['$.request.name']|e }}" />
					</div>
					<div class="form-group">
						<label for="form-update-name">Тип</label>
						<input class="form-control" type="text" id="form-update-type" name="type" required="true" value="{{ form.inputData['$.request.type']|e }}" />
					</div>
					<section>
						<nav class="navbar">
							<input type="submit" class="btn btn-primary navbar-btn" value="Сохранить" />
						</nav>
					</section>
				</div>
			</div>
		<div>

	</form>

{% endblock %}