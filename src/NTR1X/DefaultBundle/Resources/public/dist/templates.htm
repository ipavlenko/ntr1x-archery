<template id="default-box">
    <section :class="class" :id="bindings.id" :style="{
        'height': bindings.height,
        'width': bindings.width,
        'border': bindings.outerBorder,
        'background': bindings.outerBackground,
        'background-size': bindings.outerBackgroundSize,
    }">
        <div class="wg wg-content" :style="{
            'margin': bindings.margin,
            'padding': bindings.padding,
            'border': bindings.innerBorder,
            'background': bindings.innerBackground,
            'background-size': bindings.outerBackgroundSize,
        }"><slot>Empty</slot></div>
    </section>
</template>

<template id="default-button">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-button'">
        <div class="form-group">
            <button type="{{ bindings.type }}" class="btn btn-block" :class="{
                'btn-default': bindings.stereotype == 'default',
                'btn-primary': bindings.stereotype == 'primary',
                'btn-success': bindings.stereotype == 'success',
                'btn-info': bindings.stereotype == 'info',
                'btn-warning': bindings.stereotype == 'warning',
                'btn-danger': bindings.stereotype == 'danger',
                'btn-link': bindings.stereotype == 'link',
            }"
            :style="{
                height: bindings.height
            }">{{ bindings.title }}</button>
        </div>
    </default-box>
</template>

<template id="default-combobox">
        <default-box :bindings.sync="bindings" :class="'wg wg-default-combobox'">

            <div class="form-group">
                <label v-if="bindings.label" for="{{ systemId }}-label">{{ bindings.label }}</label>
                <select id="{{ systemId }}-input" class="combobox input-large form-control">
                    <option value="" selected="selected">Type here</option>
                    <option v-for="item in bindings.items" :value="item.value">{{ item.title }}</option>
                </select>
            </div>

        </default-box>
</template>

<template id="default-carousel">
        <default-box :bindings.sync="bindings" :class="'wg wg-default-carousel'">
            <div v-if="bindings.items" id="{{ systemId }}" class="carousel slide" data-ride="carousel">

                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li v-for="item in bindings.items" data-target="#{{ systemId }}" data-slide-to="{{ $index }}" :class="{ 'active' : !$index }"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div v-for="item in bindings.items" class="item" :class="{ 'active' : !$index }" :style="{
                        'height': bindings.height,
                        'background': item.background,
                        'background-size': item.backgroundSize,
                    }">
                        <div v-if="item.caption" class="carousel-caption">
                            {{{ item.caption }}}
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <a class="left carousel-control" href="#{{ systemId }}" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#{{ systemId }}" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>

            </div>
        </default-box>
</template>

<template id="default-dateinterval">
    <default-box :bindings.sync="bindings" class="'wg wg-default-datepicker'">
            <div class="form-group">
                <strong>Start date</strong>
                <div class='input-group date' id='{{ systemId }}-start'>
                    <input type='text' class="form-control" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
            <div class="form-group">
                <strong>End date</strong>
                <div class='input-group date' id='{{ systemId }}-end'>
                    <input type='text' class="form-control" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
    </default-box>
</template>

<template id="default-datepicker">
    <default-box :bindings.sync="bindings" class="'wg wg-default-datepicker'">
        <div class="form-group">
            <label v-if="bindings.label" for="{{ systemId }}-input">{{ bindings.label }}</label>
            <input type="text" id="{{ systemId }}-input" class="datepicker form-control">
        </div>
    </default-box>
</template>

<template id="default-form">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-form'">
        <form action="{{ bindings.acton }}">
            <div class="title" style="">{{{ bindings.title }}}</div>
            <div class="text-top">{{{ bindings.textabove }}}</div>
            <div v-for="field in bindings.fields" class="form-group">
                <input v-if="field.type != 'textarea'"
                        class="form-control"
                        type="{{ field.type }}"
                        name="{{ field.name }}"
                        placeholder="{{ field.placeholder }}"
                        value=""
                        data-role="input"
                        data-scope="{{ field.scope }}"
                >
                <textarea v-if="field.type == 'textarea'"
                          name="{{ field.name }}"
                          placeholder="{{ field.placeholder }}"
                          class="form-control"
                ></textarea>
            </div>
            <input class="form-control" type="submit" name="submit" value="Отправить" data-role="input" data-scope="0">
            <div class="text-bot">{{{ bindings.textbelow }}}</div>
        </form>
    </default-box>
</template>

<template id="default-footer">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-footer'">
        <a class="logo"><img :src="bindings.logo" alt="logo" height="20px"/></a>
        <div class="copyright">{{ bindings.copyright }}</div>
        <div class="contacts-block pull-right">
            <ul class="social-list">
                <li><a href="{{ bindings.facebook }}"><span class="icon-facebook"></span></a></li>
                <li><a href="{{ bindings.twitter}}"><span class="icon-twitter"></span></a></li>
                <li><a href="{{ bindings.google }}"><span class="icon-googleplus"></span></a></li>
            </ul>
            <div class="phone-block">{{ bindings.contacts }}</div>
        </div>
    </default-box>
</template>

<template id="default-gallery">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-gallery'">
            <div v-if="bindings.items" id="{{ systemId }}" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol v-if="matrix.length > 1" class="carousel-indicators">
                    <li v-for="item in bindings.items" data-target="#{{ systemId }}" data-slide-to="{{ $index }}" :class="{ 'active' : !$index }"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div v-for="pd in matrix" class="item" :class="{ 'active' : !$index }" :style="{
                        'height': bindings.height,
                    }">
                        <div class="wg-default-gallery wg-default-gallery-table" :style="{
                            'border-spacing': bindings.borderSpacing,
                            'border-collapse': bindings.borderCollapse,
                        }">
                            <div v-for="rd in pd" class="wg-default-gallery wg-default-gallery-row">
                                <div v-for="cd in rd" class="wg-default-gallery wg-default-gallery-cell">
                                    <div v-if="cd" class="thumbnail wg-default-gallery wg-default-gallery-thumbnail" :style="{
                                        'background': cd.background,
                                        'background-size': cd.backgroundSize,
                                    }">
                                        <div class="wg-default-gallery wg-default-gallery-item" :style="{
                                            'background': cd.itemBackground,
                                            'background-size': cd.itemBackgroundSize,
                                            'width': bindings.itemWidth,
                                            'height': bindings.itemHeight,
                                        }">
                                        </div>
                                        <div v-if="cd.caption" class="caption wg-default-gallery wg-default-gallery-caption">
                                            {{{ cd.caption }}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <a v-if="matrix.length > 1" class="left carousel-control" href="#{{ systemId }}" role="button" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a v-if="matrix.length > 1" class="right carousel-control" href="#{{ systemId }}" role="button" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>

            </div>
        </div>
    </default-box>
</template>

<template id="default-header">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-header'">
        <div class="info-block">
            <a v-if="bindings.logo" class="logo" href="/" title=""><img :src="bindings.logo" alt="Logo"/></a>
            <div class="phone-block">
                {{{ bindings.phone }}}
            </div>
        </div>
        <ul v-if="bindings.logo" class="partners-block clearfix">
            <li><a href="/" target="_blank"><img :src="bindings.logo" alt=""/></a></li>
        </ul>
    </default-box>
</template>

<template id="default-h1-h6">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-h1-h6'">
        <h1 v-if="bindings.stereotype == 'h1'">{{ bindings.content }}</h1>
        <h2 v-if="bindings.stereotype == 'h2'">{{ bindings.content }}</h2>
        <h3 v-if="bindings.stereotype == 'h3'">{{ bindings.content }}</h3>
        <h4 v-if="bindings.stereotype == 'h4'">{{ bindings.content }}</h4>
        <h5 v-if="bindings.stereotype == 'h5'">{{ bindings.content }}</h5>
        <h6 v-if="bindings.stereotype == 'h6'">{{ bindings.content }}</h6>
    </default-box>
</template>

<template id="default-input-checkbox">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-input wg-default-input-checkbox'">

        <div class="form-group" v-if="!bindings.stereotype">
            <div class="checkbox" v-for="item in bindings.items">
                <label>
                    <input type="checkbox" :name="bindings.name" :value="item.value" v-model="bindings.model.value"> {{ item.label }}
                </label>
            </div>
        </div>

        <div class="btn-group" data-toggle="buttons" v-if="bindings.stereotype == 'buttons'">
            <label class="btn btn-default" v-for="item in bindings.items">
                <input type="checkbox" :name="bindings.name" :value="item.value" v-model="bindings.model.value"> {{ item.label }}
            </label>
        </div>

    </default-box>
</template>

<template id="default-input-radio">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-input wg-default-input-radio'">

        <div class="form-group" v-if="!bindings.stereotype">
            <div class="radio" v-for="item in bindings.items">
                <label>
                    <input type="radio" :name="bindings.name" :value="item.value" v-model="bindings.model.value"> {{ item.label }}
                </label>
            </div>
        </div>

        <div class="btn-group" data-toggle="buttons" v-if="bindings.stereotype == 'buttons'">
            <label class="btn btn-default" v-for="item in bindings.items">
                <input type="radio" :name="bindings.name" :value="item.value" v-model="bindings.model.value"> {{ item.label }}
            </label>
        </div>

    </default-box>
</template>
<template id="default-input-text">
    <default-box :bindings.sync="bindings" class="'wg wg-default-input wg-default-input-text'">
        <div class="form-group">
            <label v-if="bindings.label" for="{{ systemId }}-input">{{ bindings.label }}</label>
            <input type="{{ bindings.type }}" id="{{ systemId }}-input" class="form-control" placeholder="{{ bindings.placeholder }}" v-model="bindings.model.value" />
        </div>
    </default-box>
</template>
<template id="default-input-textarea">
    <default-box :bindings.sync="bindings" :class="wg wg-default-input wg-default-input-textarea">
        <div class="form-group">
            <label v-if="bindings.label" for="{{ systemId }}-input">{{ bindings.label }}</label>
            <textarea class="form-control" id="{{ systemId }}-input" placeholder="{{ bindings.placeholder}}" v-model="bindings.model.value" style="{
                height: bindings.height
            }"></textarea>
        </div>
    </default-box>
</template>
<template id="default-inputrange">
        <default-box :bindings.sync="bindings" :class="'wg wg-default-inputrange'">
            <div class="form-group">
                <span>Min: {{ bindings.min }}</span>
                <input id="{{ systemId }}" type="text" data-slider-min="{{ bindings.min }}" data-slider-max="{{ bindings.max }}" data-slider-step="{{ bindings.step }}" data-slider-value="{{ bindings.initial }}"/>
                <span>Max: {{ bindings.max }}</span>
            </div>

        </default-box>
</template>

<template id="default-items">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-items'">
        <div v-for="item in bindings.items" class="items-list">
            <div class="item clearfix">
                <div class="left-part pull-left">
                    <img :src="item.image" />
                </div>
                <div class="right-part">
                    <div class="title">{{item.title }}</div>
                    <ul class="link-list">
                        <li><a href="{{item.url }}">Подробнее</a></li>
                    </ul>
                    <div class="text">
                        {{{item.promo }}}
                    </div>
                </div>
            </div>
        </div>
    </default-box>
</template>

<template id="default-media-horisontal">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-media-horisontal'">
<!-- переделать на flex -->
        <style>
            .media-container {
                background: #ccc;
            }
            .media {
                width: 270px;
                background: #fff;
                display: inline-block;
                border: 0px solid red;
                margin: 0 0 0 10px;
            }
                .media-heading {
                    font-size: 14px;
                }
                .media-body {
                    vertical-align: middle;
                    width: auto;
                }
                    .media-body p {
                        font-size: 12px;
                    }
        </style>

        <div class="media-container">
            <div class="media" v-for="item in bindings.items">

                <div class="media-left">
                    <a :href="item.url">
                        <img class="media-object" :src="item.image">
                    </a>
                </div>

                <div class="media-body">
                    <h4 class="media-heading">{{ item.title }}</h4>
                    <p>{{ item.description }}</p>
                </div>

            </div>
        </div>

    </default-box>
</template>

<template id="default-nav-horisontal">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-nav wg-default-nav-horisontal', bindings.stereotype">
        <ul class="nav nav-pills wg-default-nav wg-default-nav-horisontal wg-default-nav-horisontal-nav">
            <li v-for="item in bindings.items" role="presentation" :class="{ 'active': item.value == bindings.active }">
                <a v-if="item.vlink" v-link="{ path: item.vlink }" @click="setActive(item.value)">{{{ item.title }}}</a>
                <a v-if="!item.vlink" :href="item.url" @click="setActive(item.value)">{{{ item.title }}}</a>
            </li>
        </ul>
    </default-box>
</template>

<template id="default-nav-vertical">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-nav wg-default-nav-vertical', bindings.stereotype">
        <ul class="nav nav-pills nav-stacked wg-default-nav wg-default-nav-vertical wg-default-nav-vertical-nav">
            <li v-for="item in bindings.items" role="presentation" :class="{ 'active': item.value == bindings.active }">
                <a v-if="item.vlink" v-link="{ path: item.vlink }" @click="setActive(item.value)">{{{ item.title }}}</a>
                <a v-if="!item.vlink" :href="item.url" @click="setActive(item.value)">{{{ item.title }}}</a>
            </li>
        </ul>
    </default-box>
</template>

<template id="default-placeholder">
        <default-box :bindings.sync="bindings" :class="'wg wg-default-placeholder'">
            <div class="wg wg-table" :style="{
                height: bindings.height,
            }">
                <span class="wg wg-cell">{{{ bindings.content }}}</span>
            </div>
        </default-box>
</template>

<template id="default-rich">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-rich'" v-if="!bindings.stereotype">
        {{{ bindings.content }}}
    </default-box>

    <default-box :bindings.sync="bindings" :class="'wg wg-default-rich-flex'" v-if="bindings.stereotype == '2columns'">
        <div class="column column-one">{{{ bindings.content1 }}}</div>
        <div class="column column-two">{{{ bindings.content2 }}}</div>
    </default-box>

    <default-box :bindings.sync="bindings" :class="'wg wg-default-rich-flex'" v-if="bindings.stereotype == '3columns'">
        <div class="column column-one">{{{ bindings.content1 }}}</div>
        <div class="column column-two">{{{ bindings.content2 }}}</div>
        <div class="column column-three">{{{ bindings.content3 }}}</div>
    </default-box>
</template>

<template id="default-select">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-select'">
        <div class="form-group">
            <label v-if="bindings.label" for="{{ systemId }}-label">{{ bindings.label }}</label>
            <select class="form-control" :name="bindings.name" id="{{ systemId }}-input">
                <option v-for="item in bindings.items" :value="item.value">{{ item.title }}</option>
            </select>
        </div>
    </default-box>
</template>

<template id="default-sitemap">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-sitemap'">
        <ul>
            <li v-for="item in bindings.items">
                <a href="{{ item.url }}">{{ item.title }}</a>
                <ul>
                    <li v-for="item in item.children">
                        <a href="{{ item.url }}">{{ item.title }}</a>
                    </li>
                </ul>
            </li>
        </ul>
    </default-box>
</template>

<template id="default-stub">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-stub'">
        <div class="wg wg-table">
            <span class="wg wg-cell">
                <div><small>{{ bindings.title }}</small></div>
                <div>{{ bindings.subtitle }}</div>
            </span>
        </div>
    </default-box>
</template>

<template id="default-stack-canvas">
    <section class="wg wg-default-stack wg-default-stack-canvas">
        <div class="wg wg-content">
            <div class="wg wg-table">
                <div class="wg wg-row" v-for="child in children">
                    <div class="wg wg-cell">
                        <div class="wg wg-inner">
                            <shell-widget
                                :globals.sync="globals"
                                :settings.sync="settings"
                                :stack.sync="page"
                                :page.sync="page"
                                :data.sync="data"
                                :storage.sync="storage"
                                :model.sync="child"
                                :editable.sync="editable"
                                :items.sync="child.widgets"
                            ></shell-widget>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>

<template id="default-stack-horisontal">
    <section class="wg wg-default-stack wg-default-stack-horisontal">
        <div class="wg wg-content">
            <div class="wg wg-table">
                <div class="wg wg-row">
                    <div class="wg wg-cell" v-for="child in children">
                        <div class="wg wg-inner">
                            <shell-widget
                                :globals.sync="globals"
                                :settings.sync="settings"
                                :stack.sync="page"
                                :page.sync="page"
                                :data.sync="data"
                                :storage.sync="storage"
                                :model.sync="child"
                                :editable.sync="editable"
                                :items.sync="child.widgets"
                            ></shell-widget>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>

<template id="default-stack-vertical">
    <section class="wg wg-default-stack wg-default-stack-vertical">
        <div class="wg wg-content">
            <div class="wg wg-table">
                <div class="wg wg-row" v-for="child in children">
                    <div class="wg wg-cell">
                        <div class="wg wg-inner">
                            <shell-widget
                                :globals.sync="globals"
                                :settings.sync="settings"
                                :stack.sync="page"
                                :page.sync="page"
                                :data.sync="data"
                                :storage.sync="storage"
                                :model.sync="child"
                                :editable.sync="editable"
                                :items.sync="child.widgets"
                            ></shell-widget>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>

<template id="default-table">
    <default-box :bindings.sync="bindings" :class="'wg wg-default-table'">
        <table class="table">
            <thead>
            <tr>
                <th v-for="item in bindings.columns">
                    {{ item.title }}
                </th>
            </tr>
            </thead>

            <!--<tbody v-for="item in data.table | jsonPath bindings.jsonpath">-->
            <tbody v-for="item in bindings.source">
            <tr>
                <td v-for="param in bindings.columns">
                    {{ item | jsonPath param.value }}
                </td>
            </tr>
            </tbody>
        </table>
    </default-box>
</template>
